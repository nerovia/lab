SRC_DIR = src
BIN_DIR = bin
JAVAC = javac
JAR = jar
JAVA_FILES = $(SRC_DIR)/*.java
MAIN_CLASS = Main
JAR_NAME = $(BIN_DIR)/simplex.jar

# Default target: build the .jar file
all: $(JAR_NAME)

# Create the .jar file
$(JAR_NAME): $(JAVA_FILES)
	mkdir -p $(BIN_DIR)  # Ensure bin/ directory exists
	$(JAVAC) -d $(BIN_DIR) $(JAVA_FILES)
	$(JAR) cfe $(JAR_NAME) $(MAIN_CLASS) -C $(BIN_DIR) .

# Clean up compiled files
clean:
	rm -rf $(BIN_DIR)

# Run the application (using the Main class)
run: $(JAR_NAME)
	java -jar $(JAR_NAME)

.PHONY: all clean run
